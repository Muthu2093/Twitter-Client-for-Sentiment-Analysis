print("hello")
TTM <- read.delim("../Test_Data/ggplotDataset.txt")
head(TTM)
tail(TTM)
# Plot the basic frame of the stacked bar chart.
library(ggplot2)
ggplot(data = TTM, aes(x = Type.of.Behavior, y = Sample.Size, fill = Stage.of.Change)) +
geom_bar(stat="identity")
# Flip the x axis and y axis so that t names of behavior can be seen
# clearly.
ggplot(data = TTM, aes(x = Type.of.Behavior, y = Sample.Size, fill = Stage.of.Change)) +
geom_bar(stat="identity") + coord_flip()
# Reorder the chunks so that they represent the logical order of stage
# progression.
TTM$Stage.of.Change <- factor(TTM$Stage.of.Change, levels = c("Precontemplation",
"Contemplation", "Preparation", "Action", "Maintenance"))
# Re-plot the chart under the newly assigned order by changing the 'fill'
# command.
ggplot(data = TTM, aes(x = Type.of.Behavior, y = Sample.Size, fill = factor(Stage.of.Change))) +
geom_bar(stat="identity") + coord_flip()
data1<-read.csv(url("http://stat.columbia.edu/~rachel/datasets/nyt1.csv"))
## Probblem 8 Working with ggplot()
## Dataset name - "ggplotDataset.txt" present in Test_Data folder.... Relative path already included
############# 1. Code taken from the Lab website - RCodeFeb7.txt #############
smokes = c("Y","N","N","Y","N","Y","Y","Y","N","Y")
amount = c(1,2,2,3,3,1,2,1,3,2)
table(smokes,amount)
barplot(table(smokes,amount))
data1<-read.csv(url("http://stat.columbia.edu/~rachel/datasets/nyt1.csv"))
head(data1)
data1$agecat<-cut(data1$Age,c(-Inf,0,18,24,34,44,54,64,Inf))
summary(data1)
library("doBy")
siterange<-function(x){c(length(x),min(x),mean(x),max(x))}
summaryBy(Age~agecat, data=data1,FUN=siterange)
library(ggplot2)
ggplot(data1,aes(x=agecat,y=Impressions,fill=agecat))+geom_boxplot()
ggplot(subset(data1,Clicks>0),aes(x=Clicks/Impressions,colour=agecat))+geom_density()
ggplot(data1,aes(x=Impressions,fill=agecat))+geom_histogram(binwidth=1)
data1$scode[data1$Impressions==0]<-"NoImps"
data1$scode[data1$Impressions>0]<-"Imps"
data1$scode[data1$Clicks>0]<-"Clicks"
data1$scode<-factor(data1$scode)
head(data1)
data3<-subset(data1,scode=="NoImps")
head(data3)
clen<-function(x){c(length(x))}
etable<-summaryBy(Impressions~scode+Gender+agecat,data=data1,FUN=clen)
###################### Problem suggested by professor in piazza ###########################
# link to code: http://rstudio-pubs-static.s3.amazonaws.com/3256_bb10db1440724dac8fa40da5e658ada5.html
TTM <- read.delim("../Test_Data/ggplotDataset.txt")
head(TTM)
tail(TTM)
# Plot the basic frame of the stacked bar chart.
library(ggplot2)
ggplot(data = TTM, aes(x = Type.of.Behavior, y = Sample.Size, fill = Stage.of.Change)) +
geom_bar(stat="identity")
# Flip the x axis and y axis so that t names of behavior can be seen
# clearly.
ggplot(data = TTM, aes(x = Type.of.Behavior, y = Sample.Size, fill = Stage.of.Change)) +
geom_bar(stat="identity") + coord_flip()
# Reorder the chunks so that they represent the logical order of stage
# progression.
TTM$Stage.of.Change <- factor(TTM$Stage.of.Change, levels = c("Precontemplation",
"Contemplation", "Preparation", "Action", "Maintenance"))
# Re-plot the chart under the newly assigned order by changing the 'fill'
# command.
ggplot(data = TTM, aes(x = Type.of.Behavior, y = Sample.Size, fill = factor(Stage.of.Change))) +
geom_bar(stat="identity") + coord_flip()
TTM <- read.delim("../Test_Data/ggplotDataset.txt")
head(TTM)
tail(TTM)
# Plot the basic frame of the stacked bar chart.
library(ggplot2)
ggplot(data = TTM, aes(x = Type.of.Behavior, y = Sample.Size, fill = Stage.of.Change)) +
geom_bar(stat="identity")
TTM <- read.delim("../Test_Data/ggplotDataset.txt")
TTM <- read.delim(file.choose())
View(TTM)
TTM <- read.delim(file.choose())
head(TTM)
tail(TTM)
# Plot the basic frame of the stacked bar chart.
library(ggplot2)
ggplot(data = TTM, aes(x = Type.of.Behavior, y = Sample.Size, fill = Stage.of.Change)) +
geom_bar(stat="identity")
# Flip the x axis and y axis so that t names of behavior can be seen
# clearly.
ggplot(data = TTM, aes(x = Type.of.Behavior, y = Sample.Size, fill = Stage.of.Change)) +
geom_bar(stat="identity") + coord_flip()
# Reorder the chunks so that they represent the logical order of stage
# progression.
TTM$Stage.of.Change <- factor(TTM$Stage.of.Change, levels = c("Precontemplation",
"Contemplation", "Preparation", "Action", "Maintenance"))
# Re-plot the chart under the newly assigned order by changing the 'fill'
# command.
ggplot(data = TTM, aes(x = Type.of.Behavior, y = Sample.Size, fill = factor(Stage.of.Change))) +
geom_bar(stat="identity") + coord_flip()
library(ggplot2)
ggplot(data = TTM, aes(x = Type.of.Behavior, y = Sample.Size, fill = Stage.of.Change)) +
geom_bar(stat="identity")
library(ggplot2)
ggplot(data = TTM, aes(x = Type.of.Behavior, y = Sample.Size, fill = Stage.of.Change)) +
geom_bar(stat="identity")
install.packages("twitteR")
library(twitteR)
install.packages("httpuv")
setup_twitter_oauth("VxJ6qp5XL3VTclBzMBsD1Ez1A", "owezT5IVRVG8nvkSHXxqq4t2McwPO6mxesJTGU2549yHTJbP8m")
install.packages("openssl")
setup_twitter_oauth("VxJ6qp5XL3VTclBzMBsD1Ez1A", "owezT5IVRVG8nvkSHXxqq4t2McwPO6mxesJTGU2549yHTJbP8m")
search.string <- "#flu"
no.of.tweets <- 100
search.string <- "#flu"
no.of.tweets <- 100
tweets <- searchTwitter(search.string, n=no.of.tweets, lang="en")
tweets
View(tweets)
rm(list =ls())
## loading libraries
library(twitteR)
library(ggplot2)
library(ggmap)
library(data.table)
## Setup oauth
setup_twitter_oauth("VxJ6qp5XL3VTclBzMBsD1Ez1A", "owezT5IVRVG8nvkSHXxqq4t2McwPO6mxesJTGU2549yHTJbP8m", "340449785-0AWt3nkBVvLlX7hbUFLl0fEqIKs47qUU7V5UnFWH", "qnaD0Pyp9jUXfwVb82RlSKikuvVi2MAWxp1J0mD1Fle4d")
search.string <- "flu"
no.of.tweets <- 5000
tweets <- searchTwitter(search.string, n=no.of.tweets, lang="en")
tweets = strip_retweets(tweets, strip_manual=TRUE, strip_mt=TRUE)
tweets <- twListToDF(tweets)
getwd()
getwd()
library(ggplot)
install.packages(ggplot)
install.packages("ggplot")
library("ggplot2", lib.loc="~/Library/R/3.4/library")
library("ggmap", lib.loc="~/Library/R/3.4/library")
library("ggplot2", lib.loc="/Library/Frameworks/R.framework/Versions/3.4/Resources/library")
library("ggmap", lib.loc="/Library/Frameworks/R.framework/Versions/3.4/Resources/library")
install.packages(c("ggplot2", "ggmap"))
library(ggplot)
library(ggplot2)
getwd()
data=read.csv("/Users/akshaychopra/Documents/Twitter-client-for-Data-Collection-and-Exploratory-Data-Analysis-/Lab1Part2/Data/Influenza National Summary/Inflenza National Summary.txt")
View(data)
View(data)
View(data)
View(data)
View(data)
View(data)
library(ggplot2)
data=read.csv("/Users/akshaychopra/Documents/Twitter-client-for-Data-Collection-and-Exploratory-Data-Analysis-/Lab1Part2/Data/Influenza National Summary/Inflenza National Summary.txt")
data=read.csv("/Users/akshaychopra/Documents/Twitter-client-for-Data-Collection-and-Exploratory-Data-Analysis-/Lab1Part2/Data/Influenza National Summary/Inflenza National Summary.txt")
data=read.table("/Users/akshaychopra/Documents/Twitter-client-for-Data-Collection-and-Exploratory-Data-Analysis-/Lab1Part2/Data/Influenza National Summary/Inflenza National Summary.txt"
,
sep="\t", header=TRUE)
View(data)
View(data)
plot(data$Week,geom="histogram")
plot(data$Week,data$Total,geom="histogram")
plot(data$Week,data$Total)
plot(data$Week,data$Total)
plot(data$Week,data$Total,ylab="Total", xlab="Week")
plot(data$Week,data$Total,ylab="Total", xlab="Week", main="Week vs Total")
plot(data$Week,data$Total,ylab="Total", xlab="Week", main="Week vs Total", col="red")
plot(data$Week,data$Total,ylab="Total", xlab="Week", main="Week vs Total", col="red" pch=16)
library(ggplot2)
plot(data$Week,data$Total,ylab="Total", xlab="Week", main="Week vs Total", col="red" pch ="16")
plot(data$Week,data$Total,ylab="Total", xlab="Week", main="Week vs Total", col="red", pch =16)
plot(data$Week,data$Total,ylab="Total", xlab="Week", main="Week vs Total", col="red", pch =22)
plot(data$Week~data$Total,ylab="Total", xlab="Week", main="Week vs Total", col="red", pch =22)
plot(data$Week,data$Total,ylab="Total", xlab="Week", main="Week vs Total", col="red", pch =22)
plot(data$Week~data$Total,ylab="Total", xlab="Week", main="Week vs Total", col="red", pch =22)
plot(data$Week~data$Total,ylab="Week", xlab="Total", main="Week vs Total", col="red", pch =22)
library(twitteR)
library(ggplot2)
library(ggmap)
library(data.table)
j<-1;
for (i in tweets_With_location$location){
loc <- i
if (stringi::stri_enc_mark(loc)=="ASCII"){
if (j==1){
locations <- geocode(loc)
}
if (j>1){
locations <- rbind(locations,geocode(loc))
}
j <- j+1
}
}
search.string <- "#flu"
no.of.tweets <- 1300
tweets <- searchTwitter(search.string, n=no.of.tweets, lang="en")
## Conversion of searched tweets to Data frame
tweets <- twListToDF(tweets)
## Saving collected data to a csv file - only the tweets collection this session
setwd("../data_collected")
Name=paste("New", no.of.tweets," Tweets Collected on ",Sys.time())
write.csv(tweets, file = Name)
setwd("../Scripts")
# Reading all tweets collected so far
CDF=read.csv("../data_collected/consolidated_Tweets_Total")
CDF<- subset(CDF, select = -c(X)) #removing column named X
# Creating a consolided data frame of all the tweets collected so far
consolidated_Tweets_Total=rbind(CDF,tweets)
consolidated_Tweets_Total <- unique( consolidated_Tweets_Total[ , 1:16 ] ) #remove duplicates
# Saving all Tweets Collected from day 1 to csv file
setwd("../data_collected")
write.csv(consolidated_Tweets_Total, file = "consolidated_Tweets_Total")
setwd("../Scripts")
getwd()
ggpubr
install.packages("ggpubr")
rm(list =ls())
library(ggplot2)
library(gridExtra)
library(ggpubr)
data<- read.csv("../Data/Influenza sub type pie charts/Genetic04.csv")
mydata_1<- data[9:11,]
mydata_1<- mydata_1[-c(1 )]
## Pie char 1
bp_1<- ggplot(mydata_1, aes(x="", y=Number, fill= mydata_1$Genetic_Group))+
geom_bar(width = 1, stat = "identity") + guides(fill=FALSE) +
scale_fill_manual("legend", values = c("3C.2a" = "indianred1", "3C.2a1" = "mistyrose", "3C.3a" = "firebrick3"))
pie_1 <- bp_1 + coord_polar("y", start=250) +  theme_minimal()+ theme(axis.text.y  = element_blank(), axis.text.x = element_blank(), axis.ticks = element_blank(), panel.grid = element_blank())+ theme_bw()
pie_1
mydata_2<- data[6,]
mydata_2<- mydata_2[-c(1)]
## Pie chat 2
bp_2<- ggplot(mydata_2, aes(x="", y=Number, fill= mydata_2$Genetic_Group))+
geom_bar(width=1, stat ="identity")+ guides(fill=FALSE) +
scale_fill_manual("legend", values = c("6B.1" = "navajowhite2"))
pie_2 <- bp_2 + coord_polar("y", start=250) + theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank())+ theme_bw()
pie_2
mydata_3<- data[1:2,]
mydata_3<- mydata_3[-c(1 )]
## Pie chat 3
bp_3<- ggplot(mydata_3, aes(x="", y=Number, fill= mydata_3$Genetic_Group))+
geom_bar(width = 1, stat = "identity")+ guides(fill=FALSE) +
scale_fill_manual("legend", values = c("V1A" = "darkolivegreen1", "V1A-2Del" = "darkolivegreen1"))
pie_3 <- bp_3 + coord_polar("y", start=550) + theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank())+ theme_bw()
pie_3
mydata_4<- data[3,]
mydata_4<- mydata_4[-c(1 )]
## Pie chat 4
bp_4<- ggplot(mydata_4, aes(x="", y=Number ,fill=mydata_4$Genetic_Group))+
geom_bar(width = 1, stat = "identity")+ guides(fill=FALSE) +
scale_fill_manual("legend", values = c("Y3" = "olivedrab3"))+
ggtitle("Influenza B Yamagata")
pie_4 <- bp_4 + coord_polar("y", start=0) + theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank())+ theme_bw()
pie_4
## ## Pie chat 5 - Main chart
df <- data.frame(
group = c("Influenza A H3N2", "Influenza A (H1N1)pdm09", "Influenza A(Subtype Unknown)", "Influenza B Victoria",
"Influenza B Yamagata" , "Influenza B(lineage not determined)"),
value = c(18068, 1896, 348,228, 2292,921))
bp<- ggplot(df, aes(x="", y=value, fill=group))+
geom_bar(width = 1, stat = "identity") +
scale_fill_manual(values= c("Influenza A H3N2"="red","Influenza A (H1N1)pdm09"="forestgreen", "Influenza A(Subtype Unknown)" ="orange",
"Influenza B Victoria"="yellow", "Influenza B Yamagata"= "green","Influenza B(lineage not determined)"="cyan"))
pie <- bp + coord_polar("y", start=0) +guides(fill=FALSE) + facet_grid(supp ~ .)
## Grouping all charts into one using ggarrange
ggarrange(pie, pie_1,pie_2,pie_3,pie_4, ncol=3, nrow=2)
par(mfrow=c(2,2))
pie_1
pie_2
pi_3
pie_4
setwd("~/Documents/Twitter-client-for-Data-Collection-and-Exploratory-Data-Analysis-/Lab1Part2/Akshay_Scripts")
rm(list =ls())
library(ggplot2)
library(gridExtra)
library(ggpubr)
data<- read.csv("../Data/Influenza sub type pie charts/Genetic04.csv")
mydata_1<- data[9:11,]
mydata_1<- mydata_1[-c(1 )]
## Pie char 1
bp_1<- ggplot(mydata_1, aes(x="", y=Number, fill= mydata_1$Genetic_Group))+
geom_bar(width = 1, stat = "identity") + guides(fill=FALSE) +
scale_fill_manual("legend", values = c("3C.2a" = "indianred1", "3C.2a1" = "mistyrose", "3C.3a" = "firebrick3"))
pie_1 <- bp_1 + coord_polar("y", start=250) +  theme_minimal()+ theme(axis.text.y  = element_blank(), axis.text.x = element_blank(), axis.ticks = element_blank(), panel.grid = element_blank())+ theme_bw()
pie_1
mydata_2<- data[6,]
mydata_2<- mydata_2[-c(1)]
## Pie chat 2
bp_2<- ggplot(mydata_2, aes(x="", y=Number, fill= mydata_2$Genetic_Group))+
geom_bar(width=1, stat ="identity")+ guides(fill=FALSE) +
scale_fill_manual("legend", values = c("6B.1" = "navajowhite2"))
pie_2 <- bp_2 + coord_polar("y", start=250) + theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank())+ theme_bw()
pie_2
mydata_3<- data[1:2,]
mydata_3<- mydata_3[-c(1 )]
## Pie chat 3
bp_3<- ggplot(mydata_3, aes(x="", y=Number, fill= mydata_3$Genetic_Group))+
geom_bar(width = 1, stat = "identity")+ guides(fill=FALSE) +
scale_fill_manual("legend", values = c("V1A" = "darkolivegreen1", "V1A-2Del" = "darkolivegreen1"))
pie_3 <- bp_3 + coord_polar("y", start=550) + theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank())+ theme_bw()
pie_3
mydata_4<- data[3,]
mydata_4<- mydata_4[-c(1 )]
## Pie chat 4
bp_4<- ggplot(mydata_4, aes(x="", y=Number ,fill=mydata_4$Genetic_Group))+
geom_bar(width = 1, stat = "identity")+ guides(fill=FALSE) +
scale_fill_manual("legend", values = c("Y3" = "olivedrab3"))+
ggtitle("Influenza B Yamagata")
pie_4 <- bp_4 + coord_polar("y", start=0) + theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank())+ theme_bw()
pie_4
## ## Pie chat 5 - Main chart
df <- data.frame(
group = c("Influenza A H3N2", "Influenza A (H1N1)pdm09", "Influenza A(Subtype Unknown)", "Influenza B Victoria",
"Influenza B Yamagata" , "Influenza B(lineage not determined)"),
value = c(18068, 1896, 348,228, 2292,921))
bp<- ggplot(df, aes(x="", y=value, fill=group))+
geom_bar(width = 1, stat = "identity") +
scale_fill_manual(values= c("Influenza A H3N2"="red","Influenza A (H1N1)pdm09"="forestgreen", "Influenza A(Subtype Unknown)" ="orange",
"Influenza B Victoria"="yellow", "Influenza B Yamagata"= "green","Influenza B(lineage not determined)"="cyan"))
pie <- bp + coord_polar("y", start=0) +guides(fill=FALSE) + facet_grid(supp ~ .)
## Grouping all charts into one using ggarrange
ggarrange(pie, pie_1,pie_2,pie_3,pie_4, ncol=3, nrow=2)
par(mfrow=c(2,2))
pie_1
pie_2
pi_3
pie_4
rm(list =ls())
library(ggplot2)
library(gridExtra)
library(ggpubr)
data<- read.csv("../Data/Influenza sub type pie charts/Genetic04.csv")
mydata_1<- data[9:11,]
mydata_1<- mydata_1[-c(1 )]
## Pie char 1
bp_1<- ggplot(mydata_1, aes(x="", y=Number, fill= mydata_1$Genetic_Group))+
geom_bar(width = 1, stat = "identity") + guides(fill=FALSE) +
scale_fill_manual("legend", values = c("3C.2a" = "indianred1", "3C.2a1" = "mistyrose", "3C.3a" = "firebrick3"))
pie_1 <- bp_1 + coord_polar("y", start=250) +  theme_minimal()+ theme(axis.text.y  = element_blank(), axis.text.x = element_blank(), axis.ticks = element_blank(), panel.grid = element_blank())+ theme_bw()
pie_1
mydata_2<- data[6,]
mydata_2<- mydata_2[-c(1)]
## Pie chat 2
bp_2<- ggplot(mydata_2, aes(x="", y=Number, fill= mydata_2$Genetic_Group))+
geom_bar(width=1, stat ="identity")+ guides(fill=FALSE) +
scale_fill_manual("legend", values = c("6B.1" = "navajowhite2"))
pie_2 <- bp_2 + coord_polar("y", start=250) + theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank())+ theme_bw()
pie_2
mydata_3<- data[1:2,]
mydata_3<- mydata_3[-c(1 )]
## Pie chat 3
bp_3<- ggplot(mydata_3, aes(x="", y=Number, fill= mydata_3$Genetic_Group))+
geom_bar(width = 1, stat = "identity")+ guides(fill=FALSE) +
scale_fill_manual("legend", values = c("V1A" = "darkolivegreen1", "V1A-2Del" = "darkolivegreen1"))
pie_3 <- bp_3 + coord_polar("y", start=550) + theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank())+ theme_bw()
pie_3
mydata_4<- data[3,]
mydata_4<- mydata_4[-c(1 )]
## Pie chat 4
bp_4<- ggplot(mydata_4, aes(x="", y=Number ,fill=mydata_4$Genetic_Group))+
geom_bar(width = 1, stat = "identity")+ guides(fill=FALSE) +
scale_fill_manual("legend", values = c("Y3" = "olivedrab3"))+
ggtitle("Influenza B Yamagata")
pie_4 <- bp_4 + coord_polar("y", start=0) + theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank())+ theme_bw()
pie_4
## ## Pie chat 5 - Main chart
df <- data.frame(
group = c("Influenza A H3N2", "Influenza A (H1N1)pdm09", "Influenza A(Subtype Unknown)", "Influenza B Victoria",
"Influenza B Yamagata" , "Influenza B(lineage not determined)"),
value = c(18068, 1896, 348,228, 2292,921))
bp<- ggplot(df, aes(x="", y=value, fill=group))+
geom_bar(width = 1, stat = "identity") +
scale_fill_manual(values= c("Influenza A H3N2"="red","Influenza A (H1N1)pdm09"="forestgreen", "Influenza A(Subtype Unknown)" ="orange",
"Influenza B Victoria"="yellow", "Influenza B Yamagata"= "green","Influenza B(lineage not determined)"="cyan"))
pie <- bp + coord_polar("y", start=0) +guides(fill=FALSE) + facet_grid(supp ~ .)
## Grouping all charts into one using ggarrange
ggarrange(pie, pie_1,pie_2,pie_3,pie_4, ncol=3, nrow=2)
## Grouping all charts into one using ggarrange
ggarrange(pie, pie_1,pie_2,pie_3,pie_4, ncol=3, nrow=2)
rm(list =ls())
library(ggplot2)
library(gridExtra)
library(ggpubr)
data<- read.csv("../Data/Influenza sub type pie charts/Genetic04.csv")
mydata_1<- data[9:11,]
mydata_1<- mydata_1[-c(1 )]
## Pie char 1
bp_1<- ggplot(mydata_1, aes(x="", y=Number, fill= mydata_1$Genetic_Group))+
geom_bar(width = 1, stat = "identity") + guides(fill=FALSE) +
scale_fill_manual("legend", values = c("3C.2a" = "indianred1", "3C.2a1" = "mistyrose", "3C.3a" = "firebrick3"))
pie_1 <- bp_1 + coord_polar("y", start=250) +  theme_minimal()+ theme(axis.text.y  = element_blank(), axis.text.x = element_blank(), axis.ticks = element_blank(), panel.grid = element_blank())+ theme_bw()
pie_1
mydata_2<- data[6,]
mydata_2<- mydata_2[-c(1)]
## Pie chat 2
bp_2<- ggplot(mydata_2, aes(x="", y=Number, fill= mydata_2$Genetic_Group))+
geom_bar(width=1, stat ="identity")+ guides(fill=FALSE) +
scale_fill_manual("legend", values = c("6B.1" = "navajowhite2"))
pie_2 <- bp_2 + coord_polar("y", start=250) + theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank())+ theme_bw()
pie_2
mydata_3<- data[1:2,]
mydata_3<- mydata_3[-c(1 )]
## Pie chat 3
bp_3<- ggplot(mydata_3, aes(x="", y=Number, fill= mydata_3$Genetic_Group))+
geom_bar(width = 1, stat = "identity")+ guides(fill=FALSE) +
scale_fill_manual("legend", values = c("V1A" = "darkolivegreen1", "V1A-2Del" = "darkolivegreen1"))
pie_3 <- bp_3 + coord_polar("y", start=550) + theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank())+ theme_bw()
pie_3
mydata_4<- data[3,]
mydata_4<- mydata_4[-c(1 )]
## Pie chat 4
bp_4<- ggplot(mydata_4, aes(x="", y=Number ,fill=mydata_4$Genetic_Group))+
geom_bar(width = 1, stat = "identity")+ guides(fill=FALSE) +
scale_fill_manual("legend", values = c("Y3" = "olivedrab3"))+
ggtitle("Influenza B Yamagata")
pie_4 <- bp_4 + coord_polar("y", start=0) + theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank())+ theme_bw()
pie_4
## ## Pie chat 5 - Main chart
df <- data.frame(
group = c("Influenza A H3N2", "Influenza A (H1N1)pdm09", "Influenza A(Subtype Unknown)", "Influenza B Victoria",
"Influenza B Yamagata" , "Influenza B(lineage not determined)"),
value = c(18068, 1896, 348,228, 2292,921))
bp<- ggplot(df, aes(x="", y=value, fill=group))+
geom_bar(width = 1, stat = "identity") +
scale_fill_manual(values= c("Influenza A H3N2"="red","Influenza A (H1N1)pdm09"="forestgreen", "Influenza A(Subtype Unknown)" ="orange",
"Influenza B Victoria"="yellow", "Influenza B Yamagata"= "green","Influenza B(lineage not determined)"="cyan"))
ggarrange(pie, pie_1,pie_2,pie_3,pie_4, ncol=3, nrow=2)
pie <- bp + coord_polar("y", start=0) +guides(fill=FALSE)
## Grouping all charts into one using ggarrange
ggarrange(pie, pie_1,pie_2,pie_3,pie_4, ncol=3, nrow=2)
rm(list =ls())
library(ggplot2)
library(gridExtra)
library(ggpubr)
data<- read.csv("../Data/Influenza sub type pie charts/Genetic04.csv")
mydata_1<- data[9:11,]
mydata_1<- mydata_1[-c(1 )]
## Pie char 1
bp_1<- ggplot(mydata_1, aes(x="", y=Number, fill= mydata_1$Genetic_Group))+
geom_bar(width = 1, stat = "identity") + guides(fill=FALSE) +
scale_fill_manual("legend", values = c("3C.2a" = "indianred1", "3C.2a1" = "mistyrose", "3C.3a" = "firebrick3"))
pie_1 <- bp_1 + coord_polar("y", start=250) +  theme_minimal()+ theme(axis.text.y  = element_blank(), axis.text.x = element_blank(), axis.ticks = element_blank(), panel.grid = element_blank())+ theme_bw()
pie_1
mydata_2<- data[6,]
mydata_2<- mydata_2[-c(1)]
## Pie chat 2
bp_2<- ggplot(mydata_2, aes(x="", y=Number, fill= mydata_2$Genetic_Group))+
geom_bar(width=1, stat ="identity")+ guides(fill=FALSE) +
scale_fill_manual("legend", values = c("6B.1" = "navajowhite2"))
pie_2 <- bp_2 + coord_polar("y", start=250) + theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank())+ theme_bw()
pie_2
mydata_3<- data[1:2,]
mydata_3<- mydata_3[-c(1 )]
## Pie chat 3
bp_3<- ggplot(mydata_3, aes(x="", y=Number, fill= mydata_3$Genetic_Group))+
geom_bar(width = 1, stat = "identity")+ guides(fill=FALSE) +
scale_fill_manual("legend", values = c("V1A" = "darkolivegreen1", "V1A-2Del" = "darkolivegreen1"))
pie_3 <- bp_3 + coord_polar("y", start=550) + theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank())+ theme_bw()
pie_3
mydata_4<- data[3,]
mydata_4<- mydata_4[-c(1 )]
## Pie chat 4
bp_4<- ggplot(mydata_4, aes(x="", y=Number ,fill=mydata_4$Genetic_Group))+
geom_bar(width = 1, stat = "identity")+ guides(fill=FALSE) +
scale_fill_manual("legend", values = c("Y3" = "olivedrab3"))+
ggtitle("Influenza B Yamagata")
pie_4 <- bp_4 + coord_polar("y", start=0) + theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank())+ theme_bw()
pie_4
## ## Pie chat 5 - Main chart
df <- data.frame(
group = c("Influenza A H3N2", "Influenza A (H1N1)pdm09", "Influenza A(Subtype Unknown)", "Influenza B Victoria",
"Influenza B Yamagata" , "Influenza B(lineage not determined)"),
value = c(18068, 1896, 348,228, 2292,921))
bp<- ggplot(df, aes(x="", y=value, fill=group))+
geom_bar(width = 1, stat = "identity") +
scale_fill_manual(values= c("Influenza A H3N2"="red","Influenza A (H1N1)pdm09"="forestgreen", "Influenza A(Subtype Unknown)" ="orange",
"Influenza B Victoria"="yellow", "Influenza B Yamagata"= "green","Influenza B(lineage not determined)"="cyan"))
pie <- bp + coord_polar("y", start=0) +guides(fill=FALSE)
## Grouping all charts into one using ggarrange
ggarrange(pie, pie_1,pie_2,pie_3,pie_4, ncol=3, nrow=2)
